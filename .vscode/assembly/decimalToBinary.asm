decimal_to_binary:
    ; Вхідні параметри:
    ;   - AX: десяткове число, яке потрібно конвертувати
    ; Вихідні параметри:
    ;   - AX: бінарне представлення десяткового числа у доповнювальному коді

    xor dx, dx      ; Очищаємо регістр DX
    mov cx, 10      ; Завантажуємо в CX десяткову систему числення
    div cx          ; Ділимо AX на 10, результат буде у AX, остача у DX

convert_loop:
    ; Конвертуємо остачу (цифру) в ASCII та записуємо її у стек
    add dl, '0'     ; Конвертуємо остачу в ASCII
    push dx         ; Записуємо остачу у стек
    xor dx, dx      ; Очищаємо регістр DX

    ; Перевіряємо, чи AX ще не дорівнює 0
    test ax, ax
    jnz convert_loop

    ; Відновлюємо значення AX
    pop ax          ; Отримуємо цифру з стеку у зворотньому порядку
    xor dx, dx      ; Очищаємо регістр DX
    mov cx, 1000h   ; Завантажуємо 1000 у CX

build_binary:
    ; Перевіряємо, чи AX більше або дорівнює 1000h
    cmp ax, cx
    jl next_digit

    ; Якщо так, виводимо '1' і віднімаємо 1000h з AX
    add dl, '1'     ; Додаємо '1' до DL
    sub ax, cx      ; Віднімаємо 1000h з AX
    jmp build_binary

next_digit:
    ; Якщо AX менше за 1000h, виводимо '0'
    add dl, '0'     ; Додаємо '0' до DL

    ; Переміщаємо результат у AX
    mov ax, dx
    ret