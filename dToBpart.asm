; Підпрограма для конвертування десяткового значення у вигляді рядка в бінарне представлення у доповнювальному коді
decimal_to_binary:
    push ax             ; зберегти регістр AX
    push bx             ; зберегти регістр BX
    push cx             ; зберегти регістр CX
    push dx             ; зберегти регістр DX
    
    mov bx, 10          ; база десяткової системи числення
    xor cx, cx          ; CX = 0 (лічильник розрядів)
    mov dx, 0           ; обнулення DX (результуюче число)
    
digit_loop:
    xor dx, dx          ; обнулення DX перед кожним діленням
    div bx              ; ділення AX на 10, результат у DX (остача) та AX (ціла частина)
    push dx             ; зберегти остачу у стеку
    inc cx              ; збільшення лічильника розрядів
    test ax, ax         ; перевірка, чи AX ще містить значення
    jnz digit_loop      ; якщо є ще цифри, повторення
    
print_digits:
    pop dx              ; витягнути цифру зі стеку
    add dl, '0'         ; перетворення числа у символ
    mov ah, 0           ; AH = 0 (функція DOS для виведення символа)
    int 21h             ; виклик переривання DOS
    loop print_digits   ; виведення всіх цифр
    
    pop dx              ; відновлення регістра DX
    pop cx              ; відновлення регістра CX
    pop bx              ; відновлення регістра BX
    pop ax              ; відновлення регістра AX
    ret                 ; повернення з підпрограми
